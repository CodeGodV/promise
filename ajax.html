<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
</html>
<script type="text/javascript">

	function request(url, callback) {
		let xhr = new XMLHttpRequest();
		xhr.open("GET", url);
		xhr.send();
		xhr.onreolad = function () {
			if (this.status === 200) {
				callback(JSON.parse(this.response))
			} else {
				throw new Error("加载失败")
			}
		}
	}

	function ajax(url) {
		return new Promise((resolve, reject) => {
			let xhr = new XMLHttpRequest();
			xhr.open("GET", url);
			xhr.send();
			xhr.onload = function() {
				if (this.status === 200) {
					resolve(JSON.parse(this.response))
				} else {
					reject("失败")
				}
			}
			xhr.onerror = function() {
				reject("跨域了呀")
			}
		})
	}

	let url = 'http://piaofang.maoyan.com/dashboard-ajax/movie?orderType=0&uuid=174fe5d382052-0edf446d9ca2bf-31687304-13c680-174fe5d3821c8&riskLevel=71&optimusCode=10&_token=eJyNkk9Lw0AQxb%2FLnodkdmfyZwNFCqJU8GCpXsTDto1psElKkhZF%2FO7Obq2o9CAE9rcvj%2FeGSd5VP1urAkEdyl4VSkcYpQrUOKhCp6itTdhqYy2o1S8t4ywBtewfLlXxqJkRmPnJK3MRjopFfIIfSCiP98zEojbjuCvieFe77tm1VdS47s210apr4rUbNsvO9eu46Q51KfP833xRt1f77XZY9WXZTsZ%2BXyqpbBa%2BMpOZmUnyjmQCpUL6DyVniM%2BQ%2BU7BE6XZqeMMkbbAZANJG%2BlABGzCW8yBtQkkyYhCxuZAlgJpoCzxlAsl%2FjsZmZk4aGkCZNhTwrJnn2KYQLyeyIBJgya9hkIeZmB0LqSlwyAHQtBW%2B5W9%2BJXJ6b7O8XS%2Flf9ErENdtULlzevivppNp9fVdH43maiPT2N3jc0%3D'

	ajax(url).then(value => {
		console.log(value)
	}, reason => {
		console.log('请求失败')
	})

</script>